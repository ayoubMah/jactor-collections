#  MyCollection Framework — Roadmap v0.0.4

### Release Title: “Deque & Iteration Refinement”

**Goal:** Extend `MyLinkedList<E>` to support **double-ended queue (deque) operations** and implement a **fail-fast iterator**, while cleaning and optimizing the internal linked structure for future queue and deque abstractions.

**Branch:** `dev/v0.0.4`  
**Duration:** ~1 week

---

##  High-Level Objective

Build upon the linked list foundation by introducing **Deque functionality** (`addFirst`, `addLast`, `removeFirst`, `removeLast`, `peekFirst`, `peekLast`) and upgrading the iterator to detect structural modifications (fail-fast).  
This prepares the framework for future interfaces: `MyQueue<E>` and `MyDeque<E>` in the next release.

---

##  Development Tasks

### 1️⃣ Core Enhancements in `MyLinkedList<E>`

|Feature|Description| Status |
|---|---|--------|
|✅ Sentinel design review|Simplify and stabilize node connections| [ ]    |
|✅ Add `addFirst(E)` and `addLast(E)`|Explicit aliases for boundary insertion| [x]    |
|✅ Add `removeFirst()` and `removeLast()`|Safe head/tail removals| [x]    |
|✅ Add `peekFirst()` and `peekLast()`|Non-destructive retrievals| [ ]    |
|✅ Implement `clear()`|Reset all nodes and references| [ ]    |
|✅ Optimize `nodeAt(int index)`|Use bidirectional traversal (`head` vs `tail`)| [ ]    |

---

### 2️⃣ Iterator Improvements

|Feature|Description|Status|
|---|---|---|
|✅ Introduce `modCount` field|Track structural modifications|[ ]|
|✅ Add fail-fast mechanism|Detect external changes during iteration|[ ]|
|✅ Implement iterator `remove()`|Allow element removal during iteration|[ ]|

---

### 3️⃣ Abstract Layer Preparation

|Class|Description|Status|
|---|---|---|
|`MyAbstractQueue<E>`|New abstract base for queue-like structures|[ ]|
|`MyDeque<E>` interface|Extend from `MyCollection<E>` with double-ended operations|[ ]|
|`MyQueue<E>` interface|Extend from `MyCollection<E>` (basic queue)|[ ]|

_(These interfaces may start empty — to be fully implemented in v0.0.5.)_

---

### 4️⃣ Unit Testing — `MyLinkedListDequeTest`

**Location:** `src/test/java/ayoub/list/MyLinkedListDequeTest.java`

|Test|Goal|
|---|---|
|`testAddFirstAndLast()`|Verify elements added correctly at both ends|
|`testRemoveFirstAndLast()`|Verify proper head/tail removal|
|`testPeekFirstAndLast()`|Ensure peek methods don’t remove elements|
|`testIteratorFailFast()`|Simulate concurrent modification exception|
|`testIteratorRemove()`|Validate safe removal during iteration|
|`testNodeAtOptimization()`|Verify traversal chooses shortest path|
|`testClear()`|Ensure references fully reset and list is empty|

---

### 5️⃣ Documentation Updates

-  Update `docs/JCF_Roadmap.md`:

   ` v0.0.4 In Progress - Extended MyLinkedList<E> to support Deque-like operations - Introduced fail-fast iterator - Added modCount tracking - Prepared base for MyQueue and MyDeque interfaces`

-  Update `docs/JCF_Implementation_Details.md`:

    - Add “Deque & Iterator Design” section:

        - Explain fail-fast concept.

        - Describe how `modCount` interacts with `Iterator`.

        - Add ASCII diagram for head/tail operations.


---

### 6️⃣ Release Prep

- Run full test suite:

  `mvn clean test`

- Update README with a usage example:

  `MyLinkedList<Integer> deque = new MyLinkedList<>(); deque.addFirst(1); deque.addLast(2); deque.addLast(3); System.out.println(deque.view()); // [1, 2, 3] deque.removeFirst(); // removes 1`

- Merge and tag release:

  `git checkout master git merge dev/v0.0.4 --no-ff -m "Merge dev/v0.0.4 - Added Deque operations and fail-fast iterator" git tag -a v0.0.4 -m "Release v0.0.4 — Deque & Iteration Refinement" git push origin master --tags`


---

##  Stretch Goals (Optional if ahead of schedule)

-  Add `reverse()` method for in-place list reversal.

-  Add `clone()` method for shallow copying.

-  Add benchmark comparing `MyLinkedList` vs `MyArrayList` on insert/remove.

-  Introduce `MyLinkedList<E>` serialization support (basic `toString()` and constructor from `Collection`).


---

##  Success Criteria

- ✅ All deque methods functional (`addFirst`, `removeLast`, etc.)

- ✅ Iterator supports `remove()` and throws `ConcurrentModificationException` when structure changes.

- ✅ Code fully tested and passes all JUnit tests.

- ✅ Updated documentation and diagrams.

- ✅ Ready to evolve into `MyDeque` and `MyQueue` abstractions in **v0.0.5**.